/*
Deployment script for Reference_John

This code was generated by a tool.
Changes to this file may cause incorrect behavior and will be lost if
the code is regenerated.
*/

GO
SET ANSI_NULLS, ANSI_PADDING, ANSI_WARNINGS, ARITHABORT, CONCAT_NULL_YIELDS_NULL, QUOTED_IDENTIFIER ON;

SET NUMERIC_ROUNDABORT OFF;


GO
:setvar DatabaseName "Reference_John"
:setvar DefaultFilePrefix "Reference_John"
:setvar DefaultDataPath "C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\"
:setvar DefaultLogPath "C:\Program Files\Microsoft SQL Server\MSSQL11.MSSQLSERVER\MSSQL\DATA\"

GO
:on error exit
GO
/*
Detect SQLCMD mode and disable script execution if SQLCMD mode is not supported.
To re-enable the script after enabling SQLCMD mode, execute the following:
SET NOEXEC OFF; 
*/
:setvar __IsSqlCmdEnabled "True"
GO
IF N'$(__IsSqlCmdEnabled)' NOT LIKE N'True'
    BEGIN
        PRINT N'SQLCMD mode must be enabled to successfully execute this script.';
        SET NOEXEC ON;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET ANSI_NULLS ON,
                ANSI_PADDING ON,
                ANSI_WARNINGS ON,
                ARITHABORT ON,
                CONCAT_NULL_YIELDS_NULL ON,
                QUOTED_IDENTIFIER ON,
                ANSI_NULL_DEFAULT ON,
                CURSOR_DEFAULT LOCAL 
            WITH ROLLBACK IMMEDIATE;
    END


GO
IF EXISTS (SELECT 1
           FROM   [master].[dbo].[sysdatabases]
           WHERE  [name] = N'$(DatabaseName)')
    BEGIN
        ALTER DATABASE [$(DatabaseName)]
            SET PAGE_VERIFY NONE 
            WITH ROLLBACK IMMEDIATE;
    END


GO
USE [$(DatabaseName)];


GO
PRINT N'Rename refactoring operation with key 1d3cc79d-96a3-4e46-9adb-6b172b4c3d62 is skipped, element [dbo].[FormSimpleZero].[StartDate] (SqlSimpleColumn) will not be renamed to DateCreated';


GO
PRINT N'Rename refactoring operation with key bdaf456e-4e10-4c82-9392-7020c61e07b3 is skipped, element [dbo].[FormSimpleZero].[Name] (SqlSimpleColumn) will not be renamed to FirstName';


GO
PRINT N'Rename refactoring operation with key a9a12d37-a2e4-479c-9db3-3adee19c512d is skipped, element [dbo].[FormSimpleZeroHistory].[Id] (SqlSimpleColumn) will not be renamed to HistoryId';


GO
PRINT N'Creating [dbo].[Address]...';


GO
CREATE TABLE [dbo].[Address] (
    [Id]               INT           IDENTITY (1, 1) NOT NULL,
    [FormSimpleZeroId] INT           NOT NULL,
    [AddressTypeId]    INT           NOT NULL,
    [AddressLine1]     NVARCHAR (50) NOT NULL,
    [AddressLine2]     NVARCHAR (50) NULL,
    [AddressLine3]     NVARCHAR (50) NULL,
    [City]             NVARCHAR (50) NULL,
    [State]            NVARCHAR (50) NULL,
    [Zip]              NVARCHAR (50) NULL,
    [DateCreated]      DATETIME      NOT NULL,
    [LastChangeUser]   NVARCHAR (50) NOT NULL,
    [LastChangeDate]   DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[AddressTypeOptionList]...';


GO
CREATE TABLE [dbo].[AddressTypeOptionList] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [Name]           NVARCHAR (50) NOT NULL,
    [SortOrder]      INT           NOT NULL,
    [IsActive]       INT           NOT NULL,
    [StartDate]      DATETIME      NOT NULL,
    [EndDate]        DATETIME      NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[ApplicationExtendedProperties]...';


GO
CREATE TABLE [dbo].[ApplicationExtendedProperties] (
    [ApplicationId] NVARCHAR (50)  NOT NULL,
    [KeyId]         NVARCHAR (50)  NOT NULL,
    [Value]         NVARCHAR (MAX) NOT NULL,
    [DateCreated]   DATETIME       NOT NULL,
    [DateExpired]   DATETIME       NOT NULL,
    PRIMARY KEY CLUSTERED ([ApplicationId] ASC, [KeyId] ASC)
);


GO
PRINT N'Creating [dbo].[ApplicationExtendedProperties].[IX_UserExtendedProperties_DateExpired]...';


GO
CREATE NONCLUSTERED INDEX [IX_UserExtendedProperties_DateExpired]
    ON [dbo].[ApplicationExtendedProperties]([DateExpired] ASC);


GO
PRINT N'Creating [dbo].[EthnicityOptionList]...';


GO
CREATE TABLE [dbo].[EthnicityOptionList] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [Name]           NVARCHAR (50) NOT NULL,
    [SortOrder]      INT           NOT NULL,
    [IsActive]       INT           NOT NULL,
    [StartDate]      DATETIME      NOT NULL,
    [EndDate]        DATETIME      NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[FormSimpleZero]...';


GO
CREATE TABLE [dbo].[FormSimpleZero] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [FirstName]      NVARCHAR (50) NOT NULL,
    [LastName]       NVARCHAR (50) NOT NULL,
    [GenderId]       INT           NOT NULL,
    [RaceId]         INT           NULL,
    [RegionId]       INT           NULL,
    [EthnicityId]    INT           NULL,
    [DateCreated]    DATETIME      NOT NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory]...';


GO
CREATE TABLE [dbo].[FormSimpleZeroHistory] (
    [HistoryId]      INT           IDENTITY (1, 1) NOT NULL,
    [Id]             INT           NOT NULL,
    [FirstName]      NVARCHAR (50) NOT NULL,
    [LastName]       NVARCHAR (50) NOT NULL,
    [GenderId]       INT           NULL,
    [RaceId]         INT           NULL,
    [RegionId]       INT           NULL,
    [EthnicityId]    INT           NULL,
    [DateCreated]    DATETIME      NOT NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([HistoryId] ASC)
);


GO
PRINT N'Creating [dbo].[GenderOptionList]...';


GO
CREATE TABLE [dbo].[GenderOptionList] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [Name]           NVARCHAR (50) NOT NULL,
    [SortOrder]      INT           NOT NULL,
    [IsActive]       INT           NOT NULL,
    [StartDate]      DATETIME      NOT NULL,
    [EndDate]        DATETIME      NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[RaceOptionList]...';


GO
CREATE TABLE [dbo].[RaceOptionList] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [Name]           NVARCHAR (50) NOT NULL,
    [SortOrder]      INT           NOT NULL,
    [IsActive]       INT           NOT NULL,
    [StartDate]      DATETIME      NOT NULL,
    [EndDate]        DATETIME      NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[RegionOptionList]...';


GO
CREATE TABLE [dbo].[RegionOptionList] (
    [Id]             INT           IDENTITY (1, 1) NOT NULL,
    [Name]           NVARCHAR (50) NOT NULL,
    [SortOrder]      INT           NOT NULL,
    [IsActive]       INT           NOT NULL,
    [StartDate]      DATETIME      NOT NULL,
    [EndDate]        DATETIME      NULL,
    [LastChangeUser] NVARCHAR (50) NOT NULL,
    [LastChangeDate] DATETIME      NOT NULL,
    PRIMARY KEY CLUSTERED ([Id] ASC)
);


GO
PRINT N'Creating [dbo].[UserExtendedProperties]...';


GO
CREATE TABLE [dbo].[UserExtendedProperties] (
    [UserId]      NVARCHAR (50)  NOT NULL,
    [KeyId]       NVARCHAR (50)  NOT NULL,
    [Value]       NVARCHAR (MAX) NOT NULL,
    [DateCreated] DATETIME       NOT NULL,
    [DateExpired] DATETIME       NOT NULL,
    PRIMARY KEY CLUSTERED ([UserId] ASC, [KeyId] ASC)
);


GO
PRINT N'Creating [dbo].[UserExtendedProperties].[IX_UserExtendedProperties_DateExpired]...';


GO
CREATE NONCLUSTERED INDEX [IX_UserExtendedProperties_DateExpired]
    ON [dbo].[UserExtendedProperties]([DateExpired] ASC);


GO
PRINT N'Creating Default Constraint on [dbo].[AddressTypeOptionList]....';


GO
ALTER TABLE [dbo].[AddressTypeOptionList]
    ADD DEFAULT 1 FOR [SortOrder];


GO
PRINT N'Creating Default Constraint on [dbo].[AddressTypeOptionList]....';


GO
ALTER TABLE [dbo].[AddressTypeOptionList]
    ADD DEFAULT 1 FOR [IsActive];


GO
PRINT N'Creating Default Constraint on [dbo].[EthnicityOptionList]....';


GO
ALTER TABLE [dbo].[EthnicityOptionList]
    ADD DEFAULT 1 FOR [SortOrder];


GO
PRINT N'Creating Default Constraint on [dbo].[EthnicityOptionList]....';


GO
ALTER TABLE [dbo].[EthnicityOptionList]
    ADD DEFAULT 1 FOR [IsActive];


GO
PRINT N'Creating Default Constraint on [dbo].[GenderOptionList]....';


GO
ALTER TABLE [dbo].[GenderOptionList]
    ADD DEFAULT 1 FOR [SortOrder];


GO
PRINT N'Creating Default Constraint on [dbo].[GenderOptionList]....';


GO
ALTER TABLE [dbo].[GenderOptionList]
    ADD DEFAULT 1 FOR [IsActive];


GO
PRINT N'Creating Default Constraint on [dbo].[RaceOptionList]....';


GO
ALTER TABLE [dbo].[RaceOptionList]
    ADD DEFAULT 1 FOR [SortOrder];


GO
PRINT N'Creating Default Constraint on [dbo].[RaceOptionList]....';


GO
ALTER TABLE [dbo].[RaceOptionList]
    ADD DEFAULT 1 FOR [IsActive];


GO
PRINT N'Creating Default Constraint on [dbo].[RegionOptionList]....';


GO
ALTER TABLE [dbo].[RegionOptionList]
    ADD DEFAULT 1 FOR [SortOrder];


GO
PRINT N'Creating Default Constraint on [dbo].[RegionOptionList]....';


GO
ALTER TABLE [dbo].[RegionOptionList]
    ADD DEFAULT 1 FOR [IsActive];


GO
PRINT N'Creating FK_Address_AddressTypeOptionList...';


GO
ALTER TABLE [dbo].[Address] WITH NOCHECK
    ADD CONSTRAINT [FK_Address_AddressTypeOptionList] FOREIGN KEY ([AddressTypeId]) REFERENCES [dbo].[AddressTypeOptionList] ([Id]);


GO
PRINT N'Creating FK_Address_FormSimpleZeroId...';


GO
ALTER TABLE [dbo].[Address] WITH NOCHECK
    ADD CONSTRAINT [FK_Address_FormSimpleZeroId] FOREIGN KEY ([FormSimpleZeroId]) REFERENCES [dbo].[FormSimpleZero] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZero_GenderOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZero] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZero_GenderOptionList] FOREIGN KEY ([GenderId]) REFERENCES [dbo].[GenderOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZero_RaceOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZero] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZero_RaceOptionList] FOREIGN KEY ([RaceId]) REFERENCES [dbo].[RaceOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZero_RegionOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZero] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZero_RegionOptionList] FOREIGN KEY ([RegionId]) REFERENCES [dbo].[RegionOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZero_EthnicityOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZero] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZero_EthnicityOptionList] FOREIGN KEY ([EthnicityId]) REFERENCES [dbo].[EthnicityOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZeroHistory_GenderOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZeroHistory_GenderOptionList] FOREIGN KEY ([GenderId]) REFERENCES [dbo].[GenderOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZeroHistory_RaceOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZeroHistory_RaceOptionList] FOREIGN KEY ([RaceId]) REFERENCES [dbo].[RaceOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZeroHistory_RegionOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZeroHistory_RegionOptionList] FOREIGN KEY ([RegionId]) REFERENCES [dbo].[RegionOptionList] ([Id]);


GO
PRINT N'Creating FK_FormSimpleZeroHistory_EthnicityOptionList...';


GO
ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH NOCHECK
    ADD CONSTRAINT [FK_FormSimpleZeroHistory_EthnicityOptionList] FOREIGN KEY ([EthnicityId]) REFERENCES [dbo].[EthnicityOptionList] ([Id]);


GO
PRINT N'Creating [dbo].[SearchResults]...';


GO
CREATE VIEW [dbo].[SearchResults]
	AS SELECT 
	f.[Id] as [FormId], [FirstName], [LastName], [GenderId], [RaceId], [RegionId], [EthnicityId], [DateCreated], f.[LastChangeUser], f.[LastChangeDate],
	e.Name as EthnicityName, g.Name as GenderName
	FROM [dbo].[FormSimpleZero] f
		inner join [dbo].[EthnicityOptionList] e on f.EthnicityId=e.Id
		inner join [dbo].[GenderOptionList] g on f.GenderId=g.Id
GO
PRINT N'Creating [dbo].[GetApplicationProperty]...';


GO
CREATE PROCEDURE [dbo].[GetApplicationProperty]
	@ApplicationId nvarchar(50),
	@KeyId nvarchar(50)
AS
	SELECT Value from [dbo].[ApplicationExtendedProperties] where ApplicationId=@ApplicationId and KeyId=@KeyId
GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[Name].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Text value of the option list record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'Name';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[SortOrder].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Determines the sort order of the option list', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'SortOrder';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[IsActive].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Flag to determine if the record is active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'IsActive';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[StartDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the record becomes active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'StartDate';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[EndDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'End date when for the active record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'EndDate';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[AddressTypeOptionList].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'AddressTypeOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[Name].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Text value of the option list record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'Name';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[SortOrder].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Determines the sort order of the option list', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'SortOrder';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[IsActive].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Flag to determine if the record is active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'IsActive';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[StartDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the record becomes active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'StartDate';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[EndDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'End date when for the active record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'EndDate';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[EthnicityOptionList].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'EthnicityOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[FirstName].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'First name of the consumer for the form.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'FirstName';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[LastName].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last name of the consumer for the form.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'LastName';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[RaceId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Race identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'RaceId';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[RegionId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Region identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'RegionId';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[EthnicityId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Ethnicity identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'EthnicityId';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[DateCreated].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the consumer form record was created.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'DateCreated';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[FormSimpleZero].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZero', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[HistoryId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'HistoryId';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[FirstName].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'First name of the consumer for the form.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'FirstName';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[LastName].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last name of the consumer for the form.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'LastName';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[RaceId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Race identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'RaceId';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[RegionId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Region identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'RegionId';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[EthnicityId].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Ethnicity identifier for the consumer.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'EthnicityId';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[DateCreated].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the consumer form record was created.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'DateCreated';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[FormSimpleZeroHistory].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'FormSimpleZeroHistory', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[GenderOptionList].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[GenderOptionList].[Name].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Text value of the option list record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'Name';


GO
PRINT N'Creating [dbo].[GenderOptionList].[SortOrder].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Determines the sort order of the option list', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'SortOrder';


GO
PRINT N'Creating [dbo].[GenderOptionList].[IsActive].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Flag to determine if the record is active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'IsActive';


GO
PRINT N'Creating [dbo].[GenderOptionList].[StartDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the record becomes active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'StartDate';


GO
PRINT N'Creating [dbo].[GenderOptionList].[EndDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'End date when for the active record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'EndDate';


GO
PRINT N'Creating [dbo].[GenderOptionList].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[GenderOptionList].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'GenderOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[RaceOptionList].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[RaceOptionList].[Name].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Text value of the option list record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'Name';


GO
PRINT N'Creating [dbo].[RaceOptionList].[SortOrder].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Determines the sort order of the option list', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'SortOrder';


GO
PRINT N'Creating [dbo].[RaceOptionList].[IsActive].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Flag to determine if the record is active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'IsActive';


GO
PRINT N'Creating [dbo].[RaceOptionList].[StartDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the record becomes active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'StartDate';


GO
PRINT N'Creating [dbo].[RaceOptionList].[EndDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'End date when for the active record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'EndDate';


GO
PRINT N'Creating [dbo].[RaceOptionList].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[RaceOptionList].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RaceOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
PRINT N'Creating [dbo].[RegionOptionList].[Id].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Primary Key for table', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'Id';


GO
PRINT N'Creating [dbo].[RegionOptionList].[Name].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Text value of the option list record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'Name';


GO
PRINT N'Creating [dbo].[RegionOptionList].[SortOrder].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Determines the sort order of the option list', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'SortOrder';


GO
PRINT N'Creating [dbo].[RegionOptionList].[IsActive].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Flag to determine if the record is active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'IsActive';


GO
PRINT N'Creating [dbo].[RegionOptionList].[StartDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Date when the record becomes active.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'StartDate';


GO
PRINT N'Creating [dbo].[RegionOptionList].[EndDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'End date when for the active record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'EndDate';


GO
PRINT N'Creating [dbo].[RegionOptionList].[LastChangeUser].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last user to modify the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeUser';


GO
PRINT N'Creating [dbo].[RegionOptionList].[LastChangeDate].[MS_Description]...';


GO
EXECUTE sp_addextendedproperty @name = N'MS_Description', @value = N'Last change date for the record.', @level0type = N'SCHEMA', @level0name = N'dbo', @level1type = N'TABLE', @level1name = N'RegionOptionList', @level2type = N'COLUMN', @level2name = N'LastChangeDate';


GO
-- Refactoring step to update target server with deployed transaction logs

IF OBJECT_ID(N'dbo.__RefactorLog') IS NULL
BEGIN
    CREATE TABLE [dbo].[__RefactorLog] (OperationKey UNIQUEIDENTIFIER NOT NULL PRIMARY KEY)
    EXEC sp_addextendedproperty N'microsoft_database_tools_support', N'refactoring log', N'schema', N'dbo', N'table', N'__RefactorLog'
END
GO
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = '1d3cc79d-96a3-4e46-9adb-6b172b4c3d62')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('1d3cc79d-96a3-4e46-9adb-6b172b4c3d62')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'bdaf456e-4e10-4c82-9392-7020c61e07b3')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('bdaf456e-4e10-4c82-9392-7020c61e07b3')
IF NOT EXISTS (SELECT OperationKey FROM [dbo].[__RefactorLog] WHERE OperationKey = 'a9a12d37-a2e4-479c-9db3-3adee19c512d')
INSERT INTO [dbo].[__RefactorLog] (OperationKey) values ('a9a12d37-a2e4-479c-9db3-3adee19c512d')

GO

GO
/*
Post-Deployment Script Template							
--------------------------------------------------------------------------------------
 This file contains SQL statements that will be appended to the build script.		
 Use SQLCMD syntax to include a file in the post-deployment script.			
 Example:      :r .\myfile.sql								
 Use SQLCMD syntax to reference a variable in the post-deployment script.		
 Example:      :setvar TableName MyTable							
			   SELECT * FROM [$(TableName)]					
--------------------------------------------------------------------------------------
*/

SET IDENTITY_INSERT [dbo].[EthnicityOptionList] ON

Merge into [dbo].[EthnicityOptionList] As Target
Using (values
	(1, N'Hispanic', 1, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(2, N'Othe', 2, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime))
)
As Source ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
On Target.Id = Source.Id
--update matched rows
when matched then	
	update set name = source.name,[SortOrder]=source.[SortOrder], [IsActive]=source.[IsActive], [StartDate]=source.[StartDate], [EndDate]=source.[EndDate], [LastChangeUser]=source.[LastChangeUser], [LastChangeDate]=source.[LastChangeDate]
--insert if no match
when not matched then
	INSERT ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
	VALUES (source.[Id], source.[Name], source.[SortOrder], source.[IsActive], source.[StartDate], source.[EndDate], source.[LastChangeUser], source.[LastChangeDate])
	;

SET IDENTITY_INSERT [dbo].[EthnicityOptionList] Off

---
SET IDENTITY_INSERT [dbo].[GenderOptionList] ON

Merge into [dbo].[GenderOptionList] As Target
Using (values
	(1, N'Male', 1, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(2, N'Female', 2, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime))
)
As Source ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
On Target.Id = Source.Id
--update matched rows
when matched then	
	update set name = source.name,[SortOrder]=source.[SortOrder], [IsActive]=source.[IsActive], [StartDate]=source.[StartDate], [EndDate]=source.[EndDate], [LastChangeUser]=source.[LastChangeUser], [LastChangeDate]=source.[LastChangeDate]
--insert if no match
when not matched then
	INSERT ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
	VALUES (source.[Id], source.[Name], source.[SortOrder], source.[IsActive], source.[StartDate], source.[EndDate], source.[LastChangeUser], source.[LastChangeDate])
	;

SET IDENTITY_INSERT [dbo].[GenderOptionList] Off

---
SET IDENTITY_INSERT [dbo].[RaceOptionList] ON

Merge into [dbo].[RaceOptionList] As Target
Using (values
	(1, N'White', 0, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(2, N'Black', 1, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(3, N'Purple', 2, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime))
)
As Source ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
On Target.Id = Source.Id
--update matched rows
when matched then	
	update set name = source.name,[SortOrder]=source.[SortOrder], [IsActive]=source.[IsActive], [StartDate]=source.[StartDate], [EndDate]=source.[EndDate], [LastChangeUser]=source.[LastChangeUser], [LastChangeDate]=source.[LastChangeDate]
--insert if no match
when not matched then
	INSERT ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
	VALUES (source.[Id], source.[Name], source.[SortOrder], source.[IsActive], source.[StartDate], source.[EndDate], source.[LastChangeUser], source.[LastChangeDate])
	;

SET IDENTITY_INSERT [dbo].[RaceOptionList] Off

---
SET IDENTITY_INSERT [dbo].[RegionOptionList] ON

Merge into [dbo].[RegionOptionList] As Target
Using (values
	(1, N'East', 1, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(2, N'West', 2, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(3, N'North', 4, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime)),
	(4, N'South', 3, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'zero', CAST(0x0000A2A600000000 AS DateTime))
)
As Source ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
On Target.Id = Source.Id
--update matched rows
when matched then	
	update set name = source.name,[SortOrder]=source.[SortOrder], [IsActive]=source.[IsActive], [StartDate]=source.[StartDate], [EndDate]=source.[EndDate], [LastChangeUser]=source.[LastChangeUser], [LastChangeDate]=source.[LastChangeDate]
--insert if no match
when not matched then
	INSERT ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
	VALUES (source.[Id], source.[Name], source.[SortOrder], source.[IsActive], source.[StartDate], source.[EndDate], source.[LastChangeUser], source.[LastChangeDate])
	;

SET IDENTITY_INSERT [dbo].[RegionOptionList] Off

---
SET IDENTITY_INSERT [dbo].[AddressTypeOptionList] ON

Merge into [dbo].[AddressTypeOptionList] As Target
Using (values
	(1, N'Mail', 1, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'none', CAST(0x0000A2A600000000 AS DateTime)),
	(2, N'Residential', 2, 1, CAST(0x0000A2A600000000 AS DateTime), NULL, N'none', CAST(0x0000A2A600000000 AS DateTime))
)
As Source ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
On Target.Id = Source.Id
--update matched rows
when matched then	
	update set name = source.name,[SortOrder]=source.[SortOrder], [IsActive]=source.[IsActive], [StartDate]=source.[StartDate], [EndDate]=source.[EndDate], [LastChangeUser]=source.[LastChangeUser], [LastChangeDate]=source.[LastChangeDate]
--insert if no match
when not matched then
	INSERT ([Id], [Name], [SortOrder], [IsActive], [StartDate], [EndDate], [LastChangeUser], [LastChangeDate])
	VALUES (source.[Id], source.[Name], source.[SortOrder], source.[IsActive], source.[StartDate], source.[EndDate], source.[LastChangeUser], source.[LastChangeDate])
	;

SET IDENTITY_INSERT [dbo].[AddressTypeOptionList] Off
GO

GO
PRINT N'Checking existing data against newly created constraints';


GO
USE [$(DatabaseName)];


GO
ALTER TABLE [dbo].[Address] WITH CHECK CHECK CONSTRAINT [FK_Address_AddressTypeOptionList];

ALTER TABLE [dbo].[Address] WITH CHECK CHECK CONSTRAINT [FK_Address_FormSimpleZeroId];

ALTER TABLE [dbo].[FormSimpleZero] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZero_GenderOptionList];

ALTER TABLE [dbo].[FormSimpleZero] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZero_RaceOptionList];

ALTER TABLE [dbo].[FormSimpleZero] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZero_RegionOptionList];

ALTER TABLE [dbo].[FormSimpleZero] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZero_EthnicityOptionList];

ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZeroHistory_GenderOptionList];

ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZeroHistory_RaceOptionList];

ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZeroHistory_RegionOptionList];

ALTER TABLE [dbo].[FormSimpleZeroHistory] WITH CHECK CHECK CONSTRAINT [FK_FormSimpleZeroHistory_EthnicityOptionList];


GO
PRINT N'Update complete.';


GO
